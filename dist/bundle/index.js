var autoAnimate=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.apply(this,arguments)};function t(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))}function n(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function o(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var r=function(){this.TGT="__aa_tgt",this.DEL="__aa_del",this.initKeyframe={indent:"default",enter:[{transform:"scale(.98)",opacity:.3},{transform:"scale(0.98)",opacity:.7,offset:.5},{transform:"scale(1)",opacity:1}],exit:[{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}]},this.root=document.documentElement,this.parents=new Set,this.enabled=new WeakSet,this.coords=new WeakMap,this.animations=new WeakMap,this.keyframeMapping=new WeakMap,this.defaultKeyframe=new WeakMap,this.siblings=new WeakMap,this.debounce=new WeakMap,this.intervals=new WeakMap,this.intersections=new WeakMap,this.options=new WeakMap};function i(e){return Number(e.replace(/[^0-9.\-]/g,""))}function a(e,t,n){var o=t.width,r=t.height,a=n.width,s=n.height,c=getComputedStyle(e);if("content-box"===c.getPropertyValue("box-sizing")){var u=i(c.paddingTop)+i(c.paddingBottom)+i(c.borderTopWidth)+i(c.borderBottomWidth),d=i(c.paddingLeft)+i(c.paddingRight)+i(c.borderRightWidth)+i(c.borderLeftWidth);o-=d,a-=d,r-=u,s-=u}return[o,a,r,s].map(Math.round)}function s(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function c(e,t,n){var o=t.TGT;n||o in e?n&&!(o in n)&&Object.defineProperty(n,o,{value:e}):Object.defineProperty(e,o,{value:e})}var u=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];n.forEach((function(n){return n(e,t.options.has(e))}));for(var r=function(o){var r=e.children.item(o);r&&n.forEach((function(e){return e(r,t.options.has(r))}))},i=0;i<e.children.length;i++)r(i)},d=function(e){var o=this;this.store=e,this.animate=function(e){var t,n=e.isConnected,r=o.store.coords.has(e);n&&o.store.siblings.has(e)&&o.store.siblings.delete(e),o.store.animations.has(e)&&(null===(t=o.store.animations.get(e))||void 0===t||t.cancel()),r&&n?o.remain(e):r&&!n?o.remove(e):o.add(e)},this.updateAllPos=function(){clearTimeout(o.store.debounce.get(o.store.root)),o.store.debounce.set(o.store.root,setTimeout((function(){o.store.parents.forEach((function(e){return u(e,o.store,(function(e){return o.lowPriority((function(){return o.updatePos(e)}))}))}))}),100))},this.updatePos=function(e){clearTimeout(o.store.debounce.get(e));var r=o.getOptions(e),i="function"==typeof r?500:r.duration;o.store.debounce.set(e,setTimeout((function(){return t(o,void 0,void 0,(function(){var t;return n(this,(function(n){switch(n.label){case 0:t=this.store.animations.get(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,null==t?void 0:t.finished];case 2:return n.sent(),this.store.coords.set(e,s(e)),this.observePosition(e),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))}),i))},this.poll=function(e){setTimeout((function(){o.store.intervals.set(e,setInterval((function(){return o.lowPriority(o.updatePos.bind(null,e))}),2e3))}),Math.round(2e3*Math.random()))},this.remain=function(e){var t,n=o.store.coords.get(e),r=s(e);if(!o.isEnabled(e))return o.store.coords.set(e,r);if(!n)return!1;var i=o.getOptions(e);if("function"!=typeof i){var c=n.left-r.left,u=n.top-r.top,d=a(e,n,r),l=d[0],f=d[1],h=d[2],p=d[3],m={transform:"translate(".concat(c,"px, ").concat(u,"px)")},g={transform:"translate(0, 0)"};l!==f&&(m.width="".concat(l,"px"),g.width="".concat(f,"px")),h!==p&&(m.height="".concat(h,"px"),g.height="".concat(p,"px")),t=e.animate([m,g],{duration:i.duration,easing:i.easing})}else(t=new Animation(i(e,"remain",n,r))).play();o.store.animations.set(e,t),o.store.coords.set(e,r),t.addEventListener("finish",o.updatePos.bind(null,e))},this.remove=function(e){var t;if(o.store.siblings.has(e)&&o.store.coords.has(e)){var n=o.store.siblings.get(e)||[],r=n[0],i=n[1];Object.defineProperty(e,o.store.DEL,{value:!0}),i&&i.parentNode&&i.parentNode instanceof Element?i.parentNode.insertBefore(e,i):r&&r.parentNode?r.parentNode.appendChild(e):null===(t=o.getTarget(e))||void 0===t||t.appendChild(e);var a=function(){var t;e.remove(),o.store.coords.delete(e),o.store.siblings.delete(e),o.store.animations.delete(e),null===(t=o.store.intersections.get(e))||void 0===t||t.disconnect()};if(!o.isEnabled(e))return a();var s,c=o.deletePosition(e),u=c[0],d=c[1],l=c[2],f=c[3],h=o.getOptions(e),p=o.store.coords.get(e);if(Object.assign(e.style,{position:"absolute",top:"".concat(u,"px"),left:"".concat(d,"px"),width:"".concat(l,"px"),height:"".concat(f,"px"),margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof h){var m=o.getKeyframeOpt(e);s=e.animate(m.exit,{duration:h.duration,easing:"ease-out"})}else(s=new Animation(h(e,"remove",p))).play();o.store.animations.set(e,s),s.addEventListener("finish",a)}},this.add=function(e){var t=s(e);o.store.coords.set(e,t);var n=o.getOptions(e);if(o.isEnabled(e)){var r;if("function"!=typeof n){var i=o.getKeyframeOpt(e);if(i.delay){e.setAttribute("style","opacity: 0");var a=setTimeout((function(){e.setAttribute("style","opacity: 1"),clearTimeout(a)}),i.delay+200)}r=e.animate(i.enter,{duration:i.duration||n.duration,easing:"ease-in",delay:i.delay||0})}else(r=new Animation(n(e,"add",t))).play();o.store.animations.set(e,r),r.addEventListener("finish",(function(){o.updatePos(e)}))}},this.getOptions=function(e){var t=o.store.TGT;return t in e&&o.store.options.has(e[t])?o.store.options.get(e[t]):{duration:250,easing:"ease-in-out"}},this.lowPriority=function(e){"function"==typeof requestIdleCallback?requestIdleCallback((function(){return e()})):requestAnimationFrame((function(){return e()}))},this.observePosition=function(e){var t=o.store.intersections.get(e);null==t||t.disconnect();var n=o.store.coords.get(e),r=0;n||(n=s(e),o.store.coords.set(e,n));var i=o.store.root,a=i.offsetWidth,c=i.offsetHeight,u=[n.top-5,a-(n.left+5+n.width),c-(n.top+5+n.height),n.left-5].map((function(e){return"".concat(-1*Math.floor(e),"px")})).join(" "),d=new IntersectionObserver((function(){++r>1&&o.updatePos(e)}),{root:o.store.root,rootMargin:u,threshold:1});d.observe(e),o.store.intersections.set(e,d)},this.getTarget=function(e){return o.store.TGT in e?e[o.store.TGT]:void 0},this.isEnabled=function(e){var t=o.getTarget(e);return!!t&&o.store.enabled.has(t)},this.deletePosition=function(e){for(var t=o.store.coords.get(e),n=a(e,t,s(e)),r=n[0],c=n[2],u=e.parentElement;u&&("static"===getComputedStyle(u).position||u instanceof HTMLBodyElement);)u=u.parentElement;u||(u=document.body);var d=getComputedStyle(u),l=o.store.coords.get(u)||s(u);return[Math.round(t.top-l.top)-i(d.borderTopWidth),Math.round(t.left-l.left)-i(d.borderLeftWidth),r,c]},this.getKeyframeOpt=function(e){var t=o.store.initKeyframe;if(e.parentElement){var n=o.store.keyframeMapping.get(e.parentElement),r=o.store.defaultKeyframe.get(e.parentElement),i=e.getAttribute("data-indent");n&&i&&(t=n[i]||o.store.initKeyframe),r&&(n&&void 0===t.delay?t.delay=r.delay:t=r||o.store.initKeyframe)}return t},this.store=e},l=function(e,t){var n=this;this.store=e,this.animate=t,this.resizeElement=function(e){var t;null===(t=n.resize)||void 0===t||t.observe(e)},this.handleMutations=function(e){var t,r,i,a=(t=e,r=n.store,i=r.DEL,!t.reduce((function(e,t){return o(o(o([],e,!0),Array.from(t.addedNodes),!0),Array.from(t.removedNodes),!0)}),[]).every((function(e){return"#comment"===e.nodeName}))&&t.reduce((function(e,t){if(!1===e)return!1;if(t.target instanceof Element){if(c(t.target,r),!e.has(t.target)){e.add(t.target);for(var n=0;n<t.target.children.length;n++)if(o=t.target.children.item(n)){if(i in o)return!1;c(t.target,r,o),e.add(o)}}if(t.removedNodes.length)for(n=0;n<t.removedNodes.length;n++){var o=t.removedNodes[n];if(i in o)return!1;o instanceof Element&&(e.add(o),c(t.target,r,o),r.siblings.set(o,[t.previousSibling,t.nextSibling]))}}return e}),new Set));a&&a.forEach((function(e){n.start(e)}))},this.handleResizes=function(e){e.forEach((function(e){e.target===n.store.root&&n.animate.updateAllPos(),n.store.coords.has(e.target)&&n.animate.updatePos(e.target)}))},this.start=function(e){n.animate.animate(e)},this.store=e,this.animate=t,"undefined"!=typeof window&&(this.mutations=new MutationObserver(this.handleMutations),this.resize=new ResizeObserver(this.handleResizes),this.resize.observe(this.store.root))},f=new function(){var e=this;this.containers=new WeakMap,this.getContainer=function(t){return e.containers.has(t)||e.injectContainer(t),e.containers.get(t)},this.dispose=function(t){e.containers.has(t)&&e.containers.delete(t)},this.injectContainer=function(t){var n=new r,o=new d(n),i=new l(n,o);e.containers.set(t,{store:n,animate:o,observe:i})}};return function(t,n){var o=f.getContainer(t),r=o.store,i=o.animate,a=o.observe;if(a.resize&&a.mutations){var s="function"==typeof n;if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches){if(r.enabled.add(t),"static"===getComputedStyle(t).position&&Object.assign(t.style,{position:"relative"}),s)r.options.set(t,n);else if(r.options.set(t,e({duration:500,easing:"ease-in-out"},n)),n&&(null==n?void 0:n.animateOptions))if(Array.isArray(n.animateOptions)){var c={};n.animateOptions.forEach((function(e){c[e.indent]=e})),r.keyframeMapping.set(t,c)}else r.defaultKeyframe.set(t,e({delay:n.delay},n.animateOptions));u(t,r,i.updatePos,i.poll,a.resizeElement),a.mutations.observe(t,{childList:!0}),r.parents.add(t)}}return Object.freeze({parent:t,enable:function(){r.enabled.add(t)},disable:function(){r.enabled.delete(t)},isEnabled:function(){return r.enabled.has(t)},dispose:function(){f.dispose(t)}})}}();
